import{c as U,r as n,j as e,t as j}from"./index-BHEJdjnh.js";import{D as p,P as v,g as A}from"./PaginationCompo-CXf9qr8g.js";import{T as L,a as S,b as g,c as i,d as b,U as t,e as a}from"./table-CweSDe5r.js";import{C as E,a as D,b as P,c as _,d as B,e as I}from"./card-DN-iCoyM.js";import{S as f}from"./spinner-D1tsCXB7.js";import{u as M,a as V}from"./userApi-zu52NHMw.js";import"./index-CUCISiCF.js";import"./select-Dx3cQo6C.js";import"./check-BUpAhevX.js";import"./chevron-right-DwADlVQ_.js";import"./skeleton-W8v24tY2.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],H=U("badge-check",F);function X(){const[u,C]=n.useState("10"),[y,w]=n.useState(1),{data:r,isLoading:d}=M({limit:u,page:y}),[N,{isLoading:l}]=V(),[o,c]=n.useState(""),x=async(s,m)=>{c(m);try{await N({status:s,userId:m}).unwrap(),j.success(`User status is now "${s}".`)}catch(h){console.log(h),j.error(A(h))}finally{c("")}},k=r?.meta?.totalPage??0,T=r?.meta?.page??1;return e.jsxs(E,{children:[e.jsxs(D,{children:[e.jsx(P,{children:"All Users"}),e.jsx(_,{children:"Manage all registered users â€” view details, status, and perform block/unblock actions."})]}),e.jsx(B,{children:e.jsx("div",{children:e.jsxs(L,{children:[e.jsx(S,{children:e.jsxs(g,{className:"hover:bg-transparent",children:[e.jsx(i,{children:"Name"}),e.jsx(i,{children:"Email"}),e.jsx(i,{children:"Phone"}),e.jsx(i,{children:"Status"}),e.jsx(i,{className:"text-center",children:"Action"})]})}),d?e.jsx(e.Fragment,{children:e.jsxs(b,{children:[e.jsx(t,{}),e.jsx(t,{}),e.jsx(t,{}),e.jsx(t,{}),e.jsx(t,{}),e.jsx(t,{})]})}):e.jsx(e.Fragment,{children:e.jsx(b,{children:!d&&r?.data.length&&r?.data?.map(s=>e.jsxs(g,{children:[e.jsx(a,{children:e.jsx("div",{className:"flex users-center gap-3",children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium flex gap-1 items-center justify-between",children:[s.name,s.isVerified&&e.jsx(H,{size:16,color:"#00ffb3",strokeWidth:2,absoluteStrokeWidth:!0})]}),e.jsx("span",{className:"mt-0.5 text-xs text-muted-foreground",children:s.role})]})})}),e.jsx(a,{children:s.email}),e.jsx(a,{children:s.phone}),e.jsx(a,{className:`${s.isDeleted||s.isActive==="BLOCK"?"text-red-500":s.isActive==="INACTIVE"?"text-yellow-500":"text-green-500"}`,children:s.isDeleted?"DELETED":s.isActive}),s.isActive!=="ACTIVE"?e.jsx(a,{className:"text-center",children:e.jsx(p,{onConfirm:()=>x("ACTIVE",s._id),content:"Unblock this user?",children:e.jsxs("button",{disabled:l,className:"flex items-center justify-center gap-1 disabled:bg-gray-500 disabled:cursor-not-allowed bg-primary px-2 py-1 rounded-sm text-white  w-[66px]",children:["Unblock ",o===s._id&&e.jsx(f,{})]})})}):e.jsx(a,{className:"text-center ",children:e.jsx(p,{onConfirm:()=>x("BLOCK",s._id),content:"Block this user?",children:e.jsxs("button",{disabled:l,className:"flex items-center justify-center gap-1 disabled:bg-gray-500 disabled:cursor-not-allowed bg-primary px-2 py-1 rounded-sm text-white  w-[66px]",children:["Block ",o===s._id&&e.jsx(f,{})]})})})]},s._id))})})]})})}),e.jsx(I,{className:"overflow-auto",children:e.jsx(v,{currentPage:T,totalPages:k,setLimit:C,setPage:w})})]})}export{X as default};

import{n as C,k as v,j as e,a as R,B as b,L as h,t as m,g as F}from"./index-BHEJdjnh.js";import{C as y,a as E,b as I,c as L,d as P}from"./card-DN-iCoyM.js";import{I as d}from"./input-C6nhw93-.js";import{u as V,a as D,r as M,F as k,b as n,c as o,d as l,e as c,g as t,f as z}from"./zod-87Hwqkfn.js";import{P as x}from"./PasswordField-CNLNtD5J.js";import{S as A,a as B,b as T,c as H,d as j}from"./select-Dx3cQo6C.js";import{S as q}from"./spinner-D1tsCXB7.js";import"./label-DJxDZod0.js";import"./eye-ChL5Qa-I.js";import"./check-BUpAhevX.js";function G({className:u,...g}){const[p,{isLoading:i}]=C(),f=v(),r=V({resolver:D(M),defaultValues:{name:"",email:"",password:"",confirmPassword:"",role:"SENDER"}}),w=async s=>{const N={name:s.name,email:s.email,password:s.password,role:s.role};try{const a=await p(N).unwrap();m.success(a.message),f("/login"),console.log(a)}catch(a){console.log(a);const S=a?.data?.message?.errorSources?.[0]?.message||a?.data?.message||"Something went wrong!";m.error(S)}};return e.jsx("div",{className:R("flex flex-col gap-6",u),...g,children:e.jsxs(y,{children:[e.jsxs(E,{className:"text-center",children:[e.jsx(I,{className:"text-xl",children:"Create an Account"}),e.jsx(L,{children:"Create an account with credentials"})]}),e.jsx(P,{children:e.jsx(k,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(w),className:"space-y-4",children:[e.jsx(n,{control:r.control,name:"name",render:({field:s})=>e.jsxs(o,{children:[e.jsx(l,{children:"Name"}),e.jsx(c,{children:e.jsx(d,{placeholder:"Name",...s})}),e.jsx(t,{})]})}),e.jsx(n,{control:r.control,name:"email",render:({field:s})=>e.jsxs(o,{children:[e.jsx(l,{children:"Email"}),e.jsx(c,{children:e.jsx(d,{placeholder:"john.doe@email.com",type:"email",...s})}),e.jsx(t,{})]})}),e.jsx(n,{control:r.control,name:"password",render:({field:s})=>e.jsxs(o,{children:[e.jsx(l,{children:"Password"}),e.jsx(c,{children:e.jsx(x,{...s})}),e.jsx(t,{})]})}),e.jsx(n,{control:r.control,name:"confirmPassword",render:({field:s})=>e.jsxs(o,{children:[e.jsx(l,{children:"Confirm Password"}),e.jsx(c,{children:e.jsx(x,{...s})}),e.jsx(t,{})]})}),e.jsx(n,{control:r.control,name:"role",render:({field:s})=>e.jsxs(o,{children:[e.jsx(l,{children:"Register as"}),e.jsxs(A,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(c,{children:e.jsx(B,{className:"w-full",children:e.jsx(T,{placeholder:"Select a Role"})})}),e.jsxs(H,{children:[e.jsx(j,{value:"SENDER",children:"Sender"}),e.jsx(j,{value:"RECEIVER",children:"Receiver"})]})]}),e.jsx(t,{})]})}),e.jsxs(b,{disabled:i,type:"submit",className:"w-1/3 ",children:["Register ",i&&e.jsx(q,{className:"size-4"})]}),e.jsxs(z,{className:"",children:["Already have an account?Â ",e.jsx(h,{className:"underline",to:"/login",children:"Login"})]})]})})})]})})}function $(){return e.jsx("div",{className:"bg-muted flex min-h-svh flex-col items-center justify-center gap-6 p-6 md:p-10",children:e.jsxs("div",{className:"flex w-full max-w-sm flex-col gap-6",children:[e.jsxs(h,{to:"/",className:"flex items-center gap-2 self-center font-medium",children:[e.jsxs("div",{className:"bg-primary text-primary-foreground flex size-6 items-center justify-center rounded-md",children:[e.jsx(F,{})," "]}),"Envilo"]}),e.jsx(G,{})]})})}export{$ as default};

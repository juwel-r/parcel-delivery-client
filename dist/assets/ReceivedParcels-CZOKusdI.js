import{r as c,j as e,L as x}from"./index-BHEJdjnh.js";import{h as m}from"./parcelApi-CBcjitBd.js";import{C as p,a as h,b as j,c as u,d as g}from"./card-DN-iCoyM.js";import{L as f}from"./label-DJxDZod0.js";import{P as a,a as y,D as v}from"./ParcelListSkeleton-DpU1dCPv.js";import{a as N,b as w,c as D}from"./tooltip-vmTTCXAz.js";import{H as C}from"./history-PDEt3pHc.js";import{f as d}from"./format-B-tffhz4.js";import"./skeleton-W8v24tY2.js";function E(){const l=c.useId(),{data:r,isLoading:t}=m(),i=r?.data.map(s=>{const n=s.statusLog.find(o=>o.status.toLowerCase().trim()==="delivered");return{...s,deliveryConfirmed:n?n.timestamp:null}});return console.log(i),e.jsx(e.Fragment,{children:e.jsxs(p,{className:"w-full md:max-w-8/10 mx-auto",children:[e.jsxs(h,{children:[e.jsx(j,{className:"text-center text-2xl",children:"All Delivered Parcels"}),e.jsx(u,{className:"text-center",children:"All parcel of you are shown in below. You can search and filter them as need."})]}),!t&&!r?.data.length?e.jsx("h1",{className:"text-2xl text-muted-foreground text-center my-5",children:"No Data to show."}):e.jsx("div",{children:t?e.jsxs(e.Fragment,{children:[e.jsx(a,{}),e.jsx(a,{}),e.jsx(a,{}),e.jsx(a,{})]}):e.jsx(g,{className:"space-y-5 p-4 w-full",children:!t&&r?.data.length&&r.data.map(s=>e.jsx("div",{className:"relative flex w-full items-start gap-2 rounded-md border border-input p-4 shadow-xs outline-none has-data-[state=checked]:border-primary/50",children:e.jsxs("div",{className:"grid grid-cols-4 lg:grid-cols-12 md:gap-4 gap-2 gap-y-5 w-full",children:[e.jsxs("div",{className:"col-span-3 lg:col-span-4 flex grow items-center gap-x-5",children:[s.type==="Parcel"?e.jsx(y,{}):e.jsx(v,{}),e.jsxs("div",{className:"grid gap-x-2 gap-y-1 flex-1",children:[e.jsxs(f,{htmlFor:l,className:"text-md",children:[s.type,e.jsx("span",{className:"text-xs leading-[inherit] font-normal px-1 rounded-xs bg-primary/70 text-white/90",children:s.currentStatus})]}),e.jsxs("p",{id:`${l}-description`,className:"text-sm text-muted-foreground",children:["Delivery Fee: à§³",s.fee]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["From:",e.jsx("strong",{children:s.sender.name})]})]})]}),e.jsxs("div",{className:"col-span-4 text-muted-foreground text-sm space-y-1",children:[e.jsxs("p",{children:["Booking Date:",d(new Date(s.createdAt),"dd/M/y")]}),e.jsxs("p",{children:["Delivery Date:",d(new Date(s.deliveryDate),"dd/M/y")]}),e.jsxs("p",{children:["Delivery Address:",s.deliveryAddress]})]}),e.jsxs("div",{className:"text-muted-foreground text-sm space-y-1",children:[e.jsx("p",{children:"Confirmed: "})," ",e.jsxs("p",{children:[" ",d(new Date(s.updatedAt),"dd/M/y HH:mm a")]})]}),e.jsx("div",{className:"col-span-2 lg:col-span-2 flex items-center justify-center",children:e.jsx(x,{to:`/tracking/${s.trackingId}`,children:e.jsxs(N,{children:[e.jsx(w,{type:"button",children:e.jsx("div",{className:"text-primary",children:e.jsx(C,{size:44,strokeWidth:2.75})})}),e.jsx(D,{children:e.jsx("p",{children:"View Delivery History"})})]})})})]})},s._id))})})]})})}export{E as default};

import{h as y,i as b,k as v,l as F,j as s,a as L,B as C,L as x,t as i,m as S,g as D}from"./index-DgFVON7e.js";import{C as E,a as k,b as I,c as P,d as R}from"./card-CzpXDPuh.js";import{I as T}from"./input-jsTCUXlH.js";import{u as z,a as A,l as B,F as M,b as n,c as t,d as l,e as c,f as m,g as d}from"./zod-fuhvVGDV.js";import{P as H}from"./PasswordField-CKgg2_pC.js";import{S as U}from"./spinner-0qlY1OBU.js";import"./label-BPjkaCto.js";import"./eye-Bgpl-tfD.js";function V({className:p,...u}){const[h,{isLoading:o}]=y(),j=b(),f=v(),g=F(),a=z({resolver:A(B),defaultValues:{email:"",password:""}}),w=async e=>{const N={email:e.email,password:e.password};try{const r=await h(N).unwrap();i.success(r.message),j(S.util.invalidateTags(["USER"])),f(g.state||"/")}catch(r){console.log(r),i.error(r.data.message||"Something went wrong.")}};return s.jsx("div",{className:L("flex flex-col gap-6",p),...u,children:s.jsxs(E,{children:[s.jsxs(k,{className:"text-center",children:[s.jsx(I,{className:"text-xl",children:"Welcome back"}),s.jsx(P,{children:"Login with your Credentials"})]}),s.jsx(R,{children:s.jsx(M,{...a,children:s.jsxs("form",{onSubmit:a.handleSubmit(w),className:"space-y-4 flex flex-col",children:[s.jsx(n,{control:a.control,name:"email",render:({field:e})=>s.jsxs(t,{children:[s.jsx(l,{children:"Email"}),s.jsx(c,{children:s.jsx(T,{placeholder:"john.doe@email.com",type:"email",...e})}),s.jsx(m,{className:"sr-only",children:"This is your public display email."}),s.jsx(d,{})]})}),s.jsx(n,{control:a.control,name:"password",render:({field:e})=>s.jsxs(t,{children:[s.jsx(l,{children:"Password"}),s.jsx(c,{children:s.jsx(H,{...e})}),s.jsx(d,{})]})}),s.jsxs(C,{disabled:o,type:"submit",className:"w-1/3 ",children:["Login ",o&&s.jsx(U,{className:"size-4"})]}),s.jsxs(m,{className:"",children:["Don't have an account?"," ",s.jsx(x,{className:"underline",to:"/registration",children:"Registration"})]})]})})})]})})}function Y(){return s.jsx("div",{className:"bg-muted flex min-h-svh flex-col items-center justify-center gap-6 p-6 md:p-10",children:s.jsxs("div",{className:"flex w-full max-w-sm flex-col gap-6",children:[s.jsxs(x,{to:"/",className:"flex items-center gap-2 self-center font-medium",children:[s.jsxs("div",{className:"bg-primary text-primary-foreground flex size-6 items-center justify-center rounded-md",children:[s.jsx(D,{})," "]}),"Envilo"]}),s.jsx(V,{})]})})}export{Y as default};

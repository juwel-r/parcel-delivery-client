import{c as y,r as g,j as e,a,S as Q,o as O,p as q,C as B}from"./index-DgFVON7e.js";import{C as W}from"./check-ClQsY7V0.js";import{u as X}from"./parcelApi-DRT3awd-.js";import{C as Z,a as G,b as J,d as K}from"./card-CzpXDPuh.js";import{P as Y,M as k}from"./package-3eNkYzUt.js";import{f as ee}from"./format-B-tffhz4.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],se=y("bookmark-check",te);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],z=y("circle-check-big",re);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ne=y("circle-x",ae);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oe=y("clock",ie);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],I=y("user",ce),U=g.createContext(void 0),V=g.createContext(void 0),H=()=>{const s=g.useContext(U);if(!s)throw new Error("useStepper must be used within a Stepper");return s},$=()=>{const s=g.useContext(V);if(!s)throw new Error("useStepItem must be used within a StepperItem");return s};function le({defaultValue:s=0,value:r,onValueChange:n,orientation:i="horizontal",className:o,...t}){const[d,x]=g.useState(s),c=g.useCallback(h=>{r===void 0&&x(h),n?.(h)},[r,n]),p=r??d;return e.jsx(U.Provider,{value:{activeStep:p,setActiveStep:c,orientation:i},children:e.jsx("div",{"data-slot":"stepper",className:a("group/stepper inline-flex data-[orientation=horizontal]:w-full data-[orientation=horizontal]:flex-row data-[orientation=vertical]:flex-col",o),"data-orientation":i,...t})})}function A({step:s,completed:r=!1,disabled:n=!1,loading:i=!1,className:o,children:t,...d}){const{activeStep:x}=H(),c=r||s<x?"completed":x===s?"active":"inactive",p=i&&s===x;return e.jsx(V.Provider,{value:{step:s,state:c,isDisabled:n,isLoading:p},children:e.jsx("div",{"data-slot":"stepper-item",className:a("group/step flex items-center group-data-[orientation=horizontal]/stepper:flex-row group-data-[orientation=vertical]/stepper:flex-col",o),"data-state":c,...p?{"data-loading":!0}:{},...d,children:t})})}function P({asChild:s=!1,className:r,children:n,...i}){const{setActiveStep:o}=H(),{step:t,isDisabled:d}=$();if(s){const x=s?Q:"span";return e.jsx(x,{"data-slot":"stepper-trigger",className:r,children:n})}return e.jsx("button",{"data-slot":"stepper-trigger",className:a("inline-flex items-center gap-3 rounded-full outline-none focus-visible:z-10 focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:pointer-events-none disabled:opacity-50",r),onClick:()=>o(t),disabled:d,...i,children:n})}function T({asChild:s=!1,className:r,children:n,...i}){const{state:o,step:t,isLoading:d}=$();return e.jsx("span",{"data-slot":"stepper-indicator",className:a("relative flex size-6 shrink-0 items-center justify-center rounded-full bg-muted text-xs font-medium text-muted-foreground data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=completed]:bg-primary data-[state=completed]:text-primary-foreground",r),"data-state":o,...i,children:s?n:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"transition-all group-data-loading/step:scale-0 group-data-loading/step:opacity-0 group-data-loading/step:transition-none group-data-[state=completed]/step:scale-0 group-data-[state=completed]/step:opacity-0",children:t}),e.jsx(W,{className:"absolute scale-0 opacity-0 transition-all group-data-[state=completed]/step:scale-100 group-data-[state=completed]/step:opacity-100",size:16,"aria-hidden":"true"}),d&&e.jsx("span",{className:"absolute transition-all",children:e.jsx(O,{className:"animate-spin",size:14,"aria-hidden":"true"})})]})})}function _({className:s,...r}){return e.jsx("h3",{"data-slot":"stepper-title",className:a("text-sm font-medium",s),...r})}function R({className:s,...r}){return e.jsx("p",{"data-slot":"stepper-description",className:a("text-sm text-muted-foreground",s),...r})}function M({className:s,...r}){return e.jsx("div",{"data-slot":"stepper-separator",className:a("m-0.5 bg-muted group-data-[orientation=horizontal]/stepper:h-0.5 group-data-[orientation=horizontal]/stepper:w-full group-data-[orientation=horizontal]/stepper:flex-1 group-data-[orientation=vertical]/stepper:h-12 group-data-[orientation=vertical]/stepper:w-0.5 group-data-[state=completed]/step:bg-primary",s),...r})}function he(){const{trackingId:s}=q(),{data:r,isLoading:n,isError:i}=X(s),o=window.innerWidth<640;let t;!n&&!i&&r&&(t=r.data);const d=t?.currentStatus==="CANCELLED";if(n)return e.jsxs("div",{className:"flex h-[70vh] items-center justify-center",children:[e.jsx(O,{className:"animate-spin w-6 h-6 text-primary"}),e.jsx("p",{className:"ml-2 text-sm text-muted-foreground",children:"Loading parcel details..."})]});if(!t)return e.jsxs("div",{className:"text-center py-10 text-muted-foreground",children:["No tracking information found for ID:"," ",e.jsx("span",{className:"font-semibold",children:s})]});const c=(p=>["REQUESTED","APPROVED","DISPATCHED","IN_TRANSIT","DELIVERED","CANCELLED"].indexOf(p)+1)(t.currentStatus);return e.jsxs("div",{className:"max-w-3xl mx-auto mt-10 p-6  rounded-2xl shadow-sm space-y-6",children:[e.jsx("div",{className:"text-center space-y-1",children:e.jsx("h2",{className:"text-xl font-semibold text-primary",children:"Parcel Tracking"})}),e.jsxs(Z,{className:"shadow-lg border-t-4 border-primary",children:[e.jsx(G,{children:e.jsxs(J,{className:"flex flex-col sm:flex-row items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[e.jsx(Y,{className:"w-6 h-6 text-center"}),e.jsxs("span",{className:"mb-2 text-center leading-5",children:["Tracking ID: ",t.trackingId]})]}),d?e.jsxs("span",{className:"text-red-600 font-semibold flex items-center gap-1",children:[e.jsx(ne,{className:"w-4 h-4"})," Cancelled"]}):e.jsxs("span",{className:"text-green-600 font-semibold flex items-center gap-1",children:[e.jsx(B,{className:"w-4 h-4"})," ",t.currentStatus]})]})}),e.jsxs(K,{className:"grid sm:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(I,{className:"w-4 h-4 mt-1 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Sender"}),e.jsx("p",{children:typeof t.sender=="string"?t.sender:t.sender?.name}),e.jsx("p",{className:"text-muted-foreground",children:typeof t.sender=="string"?t.sender:t.sender?.phone})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(I,{className:"w-4 h-4 mt-1 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Receiver"}),e.jsx("p",{children:typeof t.receiver=="string"?t.receiver:t.receiver?.name})]})]}),e.jsxs("div",{className:"flex items-start gap-2 sm:col-span-2",children:[e.jsx(k,{className:"w-4 h-4 mt-1 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Delivery Address"}),e.jsx("p",{children:t.deliveryAddress})]})]}),e.jsxs("div",{className:"flex items-start gap-2 sm:col-span-2",children:[e.jsx(oe,{className:"w-4 h-4 mt-1 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Expected Delivery"}),e.jsx("p",{children:new Date(t.deliveryDate).toLocaleString()})]})]})]})]}),e.jsx(le,{defaultValue:c,orientation:o?"vertical":"horizontal",className:"px-4 w-full my-",children:(()=>{const p=["REQUESTED","APPROVED","DISPATCHED","IN_TRANSIT","DELIVERED"],h=t.currentStatus==="CANCELLED"?["CANCELLED"]:p;let C=-1;if(t.currentStatus==="CANCELLED"){const l=t.statusLog.map(m=>p.indexOf(m.status)).filter(m=>m>=0);l.length&&(C=Math.max(...l))}else C=c-1;return h.map((l,m,E)=>{const u=m+1;if(t.currentStatus==="CANCELLED"){const S=l==="CANCELLED",j=m<=C,N=S,L=!j&&!N,w=t.statusLog.find(F=>F.status===l);return e.jsxs(A,{step:u,className:"relative flex-1 flex-col!",children:[e.jsxs(P,{className:"flex-col gap-3 rounded",children:[e.jsx(T,{className:a("border-2 transition-colors duration-300",j?"bg-green-500 border-green-500 text-white":N?"bg-red-500 border-red-500 text-white ring-4 ring-red-200":"bg-gray-100 border-gray-300 text-gray-400"),children:j?e.jsx(z,{className:"w-4 h-4"}):N?e.jsx("span",{className:"text-sm font-semibold",children:u}):u}),e.jsxs("div",{className:"space-y-0.5 px-2 text-center",children:[e.jsx(_,{className:a("font-medium text-sm transition-colors",j||N?"text-foreground":"text-gray-400"),children:l}),w&&e.jsxs(e.Fragment,{children:[e.jsx(R,{className:a("text-xs",L?"text-gray-400":"text-muted-foreground"),children:new Date(w.timestamp).toLocaleString()}),e.jsxs("div",{className:a("flex items-center justify-center gap-1 text-xs",L?"text-gray-400":"text-gray-500"),children:[e.jsx(k,{className:"w-3 h-3"})," ",w.location]})]})]})]}),u<E.length&&e.jsx(M,{className:a("absolute inset-x-0 top-3 left-[calc(50%+0.75rem+0.125rem)] -order-1 m-0 -translate-y-1/2 group-data-[orientation=horizontal]/stepper:w-[calc(100%-1.5rem-0.25rem)] group-data-[orientation=horizontal]/stepper:flex-none",j?"bg-green-500":N?"bg-red-500":"bg-gray-300")})]},l)}const b=m<c-1,v=m===c-1,D=m>c-1,f=t.statusLog.find(S=>S.status===l);return e.jsxs(A,{step:u,className:"relative flex-1 flex-col!",children:[e.jsxs(P,{className:"flex-col gap-3 rounded",children:[e.jsx(T,{className:a("border-2 transition-colors duration-300",b?"bg-green-500 border-green-500 text-white":v?"bg-blue-500 border-blue-500 text-white ring-4 ring-blue-200":"bg-gray-100 border-gray-300 text-gray-400"),children:b||v?e.jsx(z,{className:"w-4 h-4"}):u}),e.jsxs("div",{className:"space-y-0.5 px-2 text-center",children:[e.jsx(_,{className:a("font-medium text-sm transition-colors",b||v?"text-foreground":"text-gray-400"),children:l}),f&&e.jsxs(e.Fragment,{children:[e.jsx(R,{className:a("text-xs",D?"text-gray-400":"text-muted-foreground"),children:ee(f.timestamp,"d/M/y hh:mm a")}),e.jsxs("div",{className:a("flex items-start justify-center gap-1 text-xs",D?"text-gray-400":"text-gray-500"),children:[e.jsx(k,{className:"w-3 h-3"})," ",f.location]}),f.notes&&e.jsxs("div",{className:"flex items-start justify-start gap- text-xs text-muted-foreground",children:[e.jsx("p",{children:e.jsx(se,{size:12})}),e.jsx("p",{children:f.notes})]})]})]})]}),!o&&u<E.length&&e.jsx(M,{className:a("absolute inset-x-0 top-3 left-[calc(50%+0.75rem+0.125rem)] -order-1 m-0 -translate-y-1/2 group-data-[orientation=horizontal]/stepper:w-[calc(100%-1.5rem-0.25rem)] group-data-[orientation=horizontal]/stepper:flex-none",b?"bg-green-500":v?"bg-blue-500":"bg-gray-300")})]},l)})})()})]})}export{he as default};
